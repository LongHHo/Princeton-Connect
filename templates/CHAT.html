<!DOCTYPE html>
<html>
   <head>
      <title>Chat</title>
   </head>
   <style>
   div.left{
      position:relative; 
      float: left;
      width: 300px;
      height: 900px;
     
      overflow: auto;
}

div.right{
      position:relative; 
      float: right;
      width: 800px;
      height: 900px;
      overflow: auto;
}
div.names{
   border: solid;
   background-color: lightblue;
   margin: 4px;
}

div.messages{
   border: solid; 
   margin: 8px;
   background-color: lightgoldenrodyellow;
}
textarea{
    
   width:350px; 
}
div.MessagesContainer{
   overflow: auto;
   height:70%;
   width:100%;

}

div.ContactContainer{
   overflow: auto;
   height:90%;
   width:100%;

}


#NewMessage{

   box-shadow:2px 10px 30px;
   position: fixed;
   display: none;
   right: 50%;
   width:600px;
   z-index: 1000;
   background-color: white;


}




   </style>
  
   <body>


<div id="NewMessage">
         <form method="post">
            <input type="text" placeholder="NetID" name="NetID" id="netid" onkeyup="available_users()"" list="userData"></input>
            <datalist id="userData">
            </datalist>
            <p></p>
            <textarea name="message" placeholder="message"> </textarea> 
            <input type="submit" value="send" name="Send">
            <button>Cancel</button>
         </form>
      </div>
   <div class="left">
      <h3>People</h3>
         <div onclick="document.getElementById('NewMessage').style.display='block'">
               <button align="center">New Message</button>
            </div>
      
      <div class="ContactContainer">
         <div class="names"> Billy </div>
      <div class="names"> Donald </div>
   <div class="names"> Pence </div>
  
   </div>
</div>

   <div class="right"> 
         <h3>Messages</h3>
      <div class="MessagesContainer">
            <div class="messages"> hello </div>
      </div>
     
      <textarea class="textType" placeholder="Message"></textarea>


   
   </div>

   <script src=
      "https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js">
    </script>
  
  <script>


function handleResponse(response)
  {

    $('#userData').html(response); // change id 
  
  }


let request = null;
  function available_users(){
   var netid = document.getElementById('netid').value;
   netid = encodeURIComponent(netid); 
   let url = "/checkUser?netid=" + netid
    
    if (request != null){
      request.abort();
    }

    request = $.ajax(
      {
        type: "GET",
        url: url,
        success: handleResponse
      }
    );



  }
  
  
  </script>
 


         
      
      
      
   </body>
</html>