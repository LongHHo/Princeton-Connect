<!DOCTYPE html>
<html>


  <head>
    <title> Princeton Connect Submit Form</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">

    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDQe5G3tqd5Vfwefn7w3Djrv1L1bmlKkTw&libraries=places, geometry"></script>

  </head>
  <body>
      <div id = "header">
          <h1>Princeton Connect</h1>
      </div>

      <!-- Top navigation -->
      <ul class="nav">
        <li><a class = "active" href="/templates/submit">Submit Entry</a></li>
        <li><a href="/">Home</a></li>
        <li><a href="/templates/lookup">Entry Look-Up</a></li>
      </ul>

    <h2>Search fields</h2>
    <hr />
    <form action="/templates/handleSubmit" method="get">
        <table style="width:20%">
          <tr>
            <td align = "right">
              <label for="netid">
                <span>Netid: </span>
              </label>
            </td>
            <td><input type="text" id="netid" name="netid" /></td>
          </tr>

          <tr>
            <td align = "right">
              <label for="name">
                <span>Name: </span>
              </label>
            </td>
            <td><input type="text" id="name" name="name" /></td>
          </tr>

          <tr>
            <td align = "right">
              <label for="email">
                <span>Email: </span>
              </label>
            </td>
            <td><input type="text" id="email" name="email" /></td>
          </tr>
          <tr>
            <td align = "right">
              <label for="phone">
                <span>Phone: </span>
              </label>
            </td>
            <td><input type="text" id="phone" name="phone" /></td>
          </tr>
          <tr>
              <td align = "right">
                <label for="description">
                  <span>Description: </span>
                </label>
              </td>
              <td><input type="text" id="description" name="description" /></td>
            </tr>
          <tr>
            <td align = "right">
              <label for="Address">
                <span>Address: </span>
              </label>
            </td>
            <td><input type="text" id="address" name="address" size="50" placeholder="Enter a location" autocomplete="on" runat="server"/> </td>
          </tr>

          <tr>
             <td></td>
            <td><input type="submit" value="Submit" /></td>
          </tr>
        </table>

        <input type="hidden" id="cityLat" name="cityLat" />
        <input type="hidden" id="cityLng" name="cityLng" />
      </form>

    <hr />

  

    <script>

    function initialize() {
    var input = document.getElementById('address');
    var autocomplete = new google.maps.places.Autocomplete(input);
    // changes whenever user selects new address in drop down
    google.maps.event.addListener(autocomplete, 'place_changed', function () {
                var place = autocomplete.getPlace();

                document.getElementById('cityLat').value = place.geometry.location.lat();
                document.getElementById('cityLng').value = place.geometry.location.lng();
            });
      }

    google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </body>
</html>
